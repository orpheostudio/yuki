<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <!-- T√≠tulo e Descri√ß√£o -->
  <title>L√≠via - Sua Assistente Inteligente AmplaAI</title>
  <meta name="description" content="L√≠via √© sua assistente pessoal inteligente, desenvolvida pela AmplaAI. Converse naturalmente sobre tecnologia, criatividade e inova√ß√£o.">
  <meta name="keywords" content="L√≠via, AmplaAI, assistente virtual, chatbot, IA, tecnologia">
  <meta name="author" content="AmplaAI">

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#8b5cf6">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="L√≠via">

  <!-- Manifest -->
  <link rel="manifest" id="app-manifest" crossorigin="use-credentials">

  <!-- √çcones -->
  <link rel="icon" type="image/png" href="https://i.imgur.com/DtMv80V.png">
  <link rel="apple-touch-icon" href="https://i.imgur.com/DtMv80V.png">

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    :root {
      --primary: #8b5cf6;
      --primary-dark: #7c3aed;
      --primary-light: #a78bfa;
      --secondary: #ec4899;
      --accent: #14b8a6;
      --background: #0a0118;
      --surface: #1a0b2e;
      --surface-light: #2d1b4e;
      --surface-hover: #3d2b5e;
      --text: #f8f7ff;
      --text-secondary: #d4c5f9;
      --text-muted: #9f7aea;
      --border: #3d2b5e;
      --error: #f43f5e;
      --success: #10b981;
      --warning: #f59e0b;
      --gradient-1: linear-gradient(135deg, #8b5cf6, #ec4899);
      --gradient-2: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899);
      --gradient-3: linear-gradient(135deg, #14b8a6, #8b5cf6);
      --shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 20px 25px -5px rgba(139, 92, 246, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
      --glow: 0 0 20px rgba(139, 92, 246, 0.4);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      height: 100%;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--background);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      height: 100%;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 20%, rgba(139, 92, 246, 0.15), transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(236, 72, 153, 0.1), transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(20, 184, 166, 0.05), transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--background);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .loading-logo {
      width: 100px;
      height: 100px;
      margin-bottom: 30px;
      border-radius: 24px;
      animation: floatPulse 3s ease-in-out infinite;
      box-shadow: var(--glow);
    }

    .loading-text {
      font-size: 32px;
      font-weight: 800;
      margin-bottom: 20px;
      background: var(--gradient-2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: 2px;
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(139, 92, 246, 0.2);
      border-top: 5px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    /* Status Bar */
    .status-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 32px;
      background: rgba(10, 1, 24, 0.95);
      backdrop-filter: blur(20px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      z-index: 1001;
      font-size: 12px;
      color: var(--text-muted);
      padding: 0 16px;
      border-bottom: 1px solid rgba(139, 92, 246, 0.1);
    }

    /* Screens */
    .screen {
      display: none;
      position: fixed;
      top: 32px;
      left: 0;
      width: 100%;
      height: calc(100% - 32px);
      overflow-y: auto;
      background: transparent;
      z-index: 1;
    }

    .screen.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    /* Welcome Screen */
    .welcome-container {
      min-height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px 20px;
      text-align: center;
      position: relative;
    }

    .welcome-logo {
      width: 140px;
      height: 140px;
      margin-bottom: 30px;
      border-radius: 32px;
      box-shadow: var(--glow);
      animation: floatPulse 3s ease-in-out infinite;
    }

    .welcome-title {
      font-size: 56px;
      font-weight: 900;
      margin-bottom: 12px;
      background: var(--gradient-2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -1px;
      text-shadow: 0 0 40px rgba(139, 92, 246, 0.3);
    }

    .welcome-subtitle {
      font-size: 20px;
      color: var(--text-secondary);
      margin-bottom: 8px;
      font-weight: 500;
    }

    .welcome-author {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 50px;
      font-weight: 400;
    }

    .welcome-buttons {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 100%;
      max-width: 340px;
      margin-bottom: 50px;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 16px 24px;
      border-radius: 16px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: none;
      outline: none;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .btn-primary {
      background: var(--gradient-1);
      color: white;
      box-shadow: var(--shadow-lg);
    }

    .btn-primary:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 25px 35px -5px rgba(139, 92, 246, 0.3);
    }

    .btn-secondary {
      background: var(--surface);
      color: var(--text);
      border: 2px solid var(--border);
    }

    .btn-secondary:hover {
      background: var(--surface-light);
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .welcome-footer {
      margin-top: auto;
      padding-top: 40px;
      color: var(--text-muted);
      font-size: 13px;
    }

    .welcome-links {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-top: 12px;
    }

    .welcome-links a {
      color: var(--primary-light);
      text-decoration: none;
      transition: color 0.2s;
    }

    .welcome-links a:hover {
      color: var(--secondary);
      text-decoration: underline;
    }

    /* Chat Screen */
    .chat-header {
      position: sticky;
      top: 0;
      background: rgba(10, 1, 24, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      z-index: 100;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .header-logo {
      width: 48px;
      height: 48px;
      border-radius: 14px;
      box-shadow: var(--glow);
    }

    .header-info h1 {
      font-size: 20px;
      font-weight: 700;
      background: var(--gradient-1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .header-info p {
      font-size: 12px;
      color: var(--text-muted);
    }

    .menu-btn {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text);
      cursor: pointer;
      padding: 10px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .menu-btn:hover {
      background: var(--surface-light);
      border-color: var(--primary);
      transform: scale(1.05);
    }

    .menu-dropdown {
      position: absolute;
      top: 100%;
      right: 20px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 8px;
      box-shadow: var(--shadow-lg);
      display: none;
      z-index: 101;
      min-width: 200px;
      margin-top: 8px;
    }

    .menu-dropdown.active {
      display: block;
      animation: slideDown 0.2s ease;
    }

    .menu-item {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      padding: 12px 14px;
      background: none;
      border: none;
      color: var(--text);
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
      text-align: left;
    }

    .menu-item:hover {
      background: var(--surface-light);
      transform: translateX(4px);
    }

    .messages-container {
      padding: 24px 20px;
      padding-bottom: 120px;
      max-height: calc(100vh - 190px);
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .message {
      display: flex;
      margin-bottom: 24px;
      animation: messageSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .message.user {
      justify-content: flex-end;
    }

    .message.assistant {
      justify-content: flex-start;
    }

    .message-content {
      max-width: 80%;
      padding: 16px 20px;
      border-radius: 20px;
      position: relative;
      box-shadow: var(--shadow);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .message.user .message-content {
      background: var(--gradient-1);
      color: white;
      border-bottom-right-radius: 6px;
    }

    .message.assistant .message-content {
      background: var(--surface);
      color: var(--text);
      border-bottom-left-radius: 6px;
      border: 1px solid var(--border);
    }

    .message-time {
      display: block;
      font-size: 11px;
      margin-top: 6px;
      opacity: 0.7;
      text-align: right;
    }

    .input-container {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 16px 20px 20px;
      background: rgba(10, 1, 24, 0.95);
      backdrop-filter: blur(20px);
      border-top: 1px solid var(--border);
      display: flex;
      align-items: flex-end;
      gap: 12px;
      z-index: 99;
    }

    #message-input {
      flex: 1;
      background: var(--surface);
      border: 2px solid var(--border);
      border-radius: 24px;
      padding: 14px 20px;
      color: var(--text);
      font-family: inherit;
      font-size: 15px;
      resize: none;
      max-height: 120px;
      outline: none;
      transition: all 0.3s;
    }

    #message-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
    }

    .send-btn {
      background: var(--gradient-1);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      flex-shrink: 0;
      box-shadow: var(--shadow);
    }

    .send-btn:hover {
      transform: scale(1.1) rotate(15deg);
      box-shadow: var(--glow);
    }

    .send-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* About Screen */
    .about-container {
      min-height: 100%;
      padding: 24px 20px;
      padding-bottom: 100px;
    }

    .back-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text);
      cursor: pointer;
      padding: 12px 16px;
      margin-bottom: 24px;
      font-size: 15px;
      border-radius: 12px;
      transition: all 0.2s;
    }

    .back-btn:hover {
      background: var(--surface-light);
      border-color: var(--primary);
      transform: translateX(-4px);
    }

    .about-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 32px;
      box-shadow: var(--shadow-lg);
      margin-bottom: 30px;
    }

    .about-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .about-logo {
      width: 100px;
      height: 100px;
      border-radius: 20px;
      margin-bottom: 20px;
      box-shadow: var(--glow);
    }

    .about-header h1 {
      font-size: 32px;
      margin-bottom: 8px;
      background: var(--gradient-2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .about-version {
      color: var(--text-muted);
      font-size: 14px;
      font-weight: 500;
    }

    .about-section {
      margin-bottom: 32px;
    }

    .about-section h2 {
      font-size: 22px;
      margin-bottom: 16px;
      color: var(--primary-light);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .about-section p {
      margin-bottom: 16px;
      color: var(--text-secondary);
      line-height: 1.7;
    }

    .about-section ul {
      margin-left: 24px;
      margin-bottom: 16px;
    }

    .about-section li {
      margin-bottom: 10px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* Typing Indicator */
    .typing-indicator {
      display: flex;
      align-items: center;
      margin-bottom: 24px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .typing-indicator.active {
      opacity: 1;
    }

    .typing-dots {
      display: flex;
      gap: 6px;
      margin-left: 12px;
    }

    .typing-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--primary);
      animation: typingPulse 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    /* Quick Replies */
    .quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 16px;
    }

    .quick-reply {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 10px 18px;
      font-size: 14px;
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .quick-reply:hover {
      background: var(--surface-light);
      border-color: var(--primary);
      transform: translateY(-3px);
      box-shadow: var(--shadow);
    }

    /* Connection Status */
    .connection-status {
      position: fixed;
      top: 44px;
      right: 20px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 10px 18px;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 98;
      opacity: 0;
      transition: all 0.3s;
      box-shadow: var(--shadow);
    }

    .connection-status.active {
      opacity: 1;
    }

    .connection-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--error);
      animation: pulse 2s infinite;
    }

    .connection-dot.connected {
      background: var(--success);
    }

    /* Offline Indicator */
    .offline-indicator {
      position: fixed;
      bottom: 90px;
      left: 20px;
      right: 20px;
      background: var(--warning);
      color: var(--background);
      padding: 14px 18px;
      border-radius: 16px;
      font-size: 14px;
      font-weight: 600;
      text-align: center;
      z-index: 100;
      display: none;
      animation: slideUp 0.3s ease;
      box-shadow: var(--shadow-lg);
    }

    .offline-indicator.active {
      display: block;
    }

    /* Animations */
    @keyframes floatPulse {
      0%, 100% {
        transform: translateY(0) scale(1);
      }
      50% {
        transform: translateY(-10px) scale(1.02);
      }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes messageSlideIn {
      from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes typingPulse {
      0%, 60%, 100% {
        transform: scale(0.8);
        opacity: 0.5;
      }
      30% {
        transform: scale(1.2);
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .welcome-title {
        font-size: 42px;
      }

      .message-content {
        max-width: 85%;
      }

      .about-card {
        padding: 24px;
      }
    }

    @media (max-width: 480px) {
      .welcome-title {
        font-size: 36px;
      }

      .welcome-logo {
        width: 120px;
        height: 120px;
      }
    }

    /* Safe Areas */
    @supports (padding: max(0px)) {
      .screen {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
        padding-bottom: max(0px, env(safe-area-inset-bottom));
      }

      .input-container {
        padding-bottom: max(20px, env(safe-area-inset-bottom));
      }
    }
  </style>
</head>
<body>
  <!-- Status Bar -->
  <div class="status-bar" id="status-bar">
    <div id="current-time">00:00</div>
    <div id="battery-status">100%</div>
  </div>

  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <img src="https://i.imgur.com/DtMv80V.png" alt="L√≠via Logo" class="loading-logo">
    <div class="loading-text">L√≠via</div>
    <div class="loading-spinner"></div>
  </div>

  <!-- Connection Status -->
  <div class="connection-status" id="connection-status">
    <div class="connection-dot" id="connection-dot"></div>
    <span id="connection-text">Conectando...</span>
  </div>

  <!-- Offline Indicator -->
  <div class="offline-indicator" id="offline-indicator">
    ‚ö†Ô∏è Voc√™ est√° offline. Algumas funcionalidades podem estar limitadas.
  </div>

  <!-- Welcome Screen -->
  <div id="welcome-screen" class="screen active">
    <div class="welcome-container">
      <img src="https://i.imgur.com/DtMv80V.png" alt="L√≠via Logo" class="welcome-logo">
      <h1 class="welcome-title">L√≠via</h1>
      <p class="welcome-subtitle">Sua assistente inteligente de explora√ß√£o e solu√ß√µes</p>
      <p class="welcome-author">Desenvolvido por AmplaAI</p>

      <div class="welcome-buttons">
        <button onclick="showScreen('chat')" class="btn btn-primary">
          <i data-lucide="sparkles"></i>
          <span>Come√ßar Conversa</span>
        </button>

        <button onclick="showScreen('about')" class="btn btn-secondary">
          <i data-lucide="info"></i>
          <span>Sobre a L√≠via</span>
        </button>
      </div>

      <div class="welcome-footer">
        <p>Ao continuar, voc√™ concorda com nossos</p>
        <div class="welcome-links">
          <a href="https://termos.orpheostudio.com.br" target="_blank" rel="noopener noreferrer">Termos de Uso</a>
          <span>‚Ä¢</span>
          <a href="https://politicas.orpheostudio.com.br" target="_blank" rel="noopener noreferrer">Pol√≠ticas</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Chat Screen -->
  <div id="chat-screen" class="screen">
    <div class="chat-header">
      <div class="header-content">
        <div class="header-left">
          <img src="https://i.imgur.com/DtMv80V.png" alt="L√≠via" class="header-logo">
          <div class="header-info">
            <h1>L√≠via</h1>
            <p>by AmplaAI</p>
          </div>
        </div>
        <button class="menu-btn" onclick="toggleMenu()">
          <i data-lucide="menu" id="menu-icon"></i>
        </button>
      </div>

      <div id="menu-dropdown" class="menu-dropdown">
        <button onclick="showScreen('about')" class="menu-item">
          <i data-lucide="info"></i>
          <span>Sobre a L√≠via</span>
        </button>
        <button onclick="exportChat()" class="menu-item">
          <i data-lucide="download"></i>
          <span>Exportar Chat</span>
        </button>
        <button onclick="clearChat()" class="menu-item">
          <i data-lucide="trash-2"></i>
          <span>Limpar Chat</span>
        </button>
        <button onclick="shareApp()" class="menu-item">
          <i data-lucide="share-2"></i>
          <span>Compartilhar App</span>
        </button>
        <button onclick="showScreen('welcome')" class="menu-item">
          <i data-lucide="home"></i>
          <span>Tela Inicial</span>
        </button>
      </div>
    </div>

    <div class="messages-container" id="messages-container">
      <div class="message assistant">
        <div class="message-content">
          <p>Ol√°! Sou a L√≠via, sua assistente inteligente desenvolvida pela AmplaAI. ‚ú® Estou aqui para ajudar voc√™ com tecnologia, criatividade, inova√ß√£o e muito mais. Como posso te ajudar hoje? üíú</p>
          <span class="message-time"></span>
        </div>
      </div>

      <div class="quick-replies" id="quick-replies">
        <button class="quick-reply" onclick="quickReply('Conte-me sobre a AmplaAI')">Sobre a AmplaAI</button>
        <button class="quick-reply" onclick="quickReply('Quais s√£o seus recursos?')">Recursos</button>
        <button class="quick-reply" onclick="quickReply('Como posso usar o YumeRoll?')">YumeRoll</button>
        <button class="quick-reply" onclick="quickReply('Me ajude com criatividade')">Criatividade</button>
      </div>
    </div>

    <div class="typing-indicator" id="typing-indicator">
      <div class="message assistant">
        <div class="message-content">
          <p>L√≠via est√° pensando</p>
          <div class="typing-dots">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="input-container">
      <textarea 
        id="message-input" 
        placeholder="Digite sua mensagem..." 
        rows="1"
        onkeydown="handleKeyDown(event)"
        oninput="autoResize(this)"
      ></textarea>
      <button id="send-btn" onclick="sendMessage()" class="send-btn">
        <i data-lucide="send"></i>
      </button>
    </div>
  </div>

  <!-- About Screen -->
  <div id="about-screen" class="screen">
    <div class="about-container">
      <button onclick="showScreen('welcome')" class="back-btn">
        <i data-lucide="arrow-left"></i>
        <span>Voltar</span>
      </button>

      <div class="about-card">
        <div class="about-header">
          <img src="https://i.imgur.com/DtMv80V.png" alt="L√≠via Logo" class="about-logo">
          <h1>L√≠via</h1>
          <p class="about-version">v3.0 | OrionAI Edition</p>
        </div>

        <div class="about-content">
          <section class="about-section">
            <h2>ü§ñ Quem Sou Eu</h2>
            <p>Sou a L√≠via, sua assistente virtual inteligente desenvolvida pela AmplaAI. Utilizo tecnologia de ponta OrionAI para oferecer conversas naturais, inteligentes e √∫teis sobre tecnologia, criatividade, inova√ß√£o e muito mais!</p>
          </section>

          <section class="about-section">
            <h2>üöÄ Desenvolvido por AmplaAI</h2>
            <p>A AmplaAI √© um est√∫dio de inova√ß√£o que desenvolve projetos incr√≠veis:</p>
            <ul>
              <li><strong>Sena</strong> - Solu√ß√µes inteligentes para automa√ß√£o e gest√£o</li>
              <li><strong>YumeRoll Animes</strong> - Plataforma premium de animes com experi√™ncia √∫nica</li>
              <li><strong>Escola de Autores</strong> - Desenvolvimento criativo e liter√°rio personalizado</li>
              <li><strong>L√≠via</strong> - Assistente virtual inteligente (eu! üíú)</li>
            </ul>
          </section>

          <section class="about-section">
            <h2>‚ö° Tecnologia de Ponta</h2>
            <p>Este aplicativo utiliza as melhores tecnologias:</p>
            <ul>
              <li><strong>OrionAI</strong> - Modelo de linguagem avan√ßado e natural</li>
              <li><strong>PWA (Progressive Web App)</strong> - Instal√°vel como aplicativo nativo</li>
              <li><strong>Interface Moderna</strong> - Design elegante e responsivo</li>
              <li><strong>Service Worker</strong> - Funcionalidade offline parcial</li>
              <li><strong>Armazenamento Local</strong> - Suas conversas salvas com seguran√ßa</li>
            </ul>
          </section>

          <section class="about-section">
            <h2>‚ú® Recursos Principais</h2>
            <ul>
              <li>Conversa√ß√£o natural e inteligente com IA</li>
              <li>Hist√≥rico completo de conversas</li>
              <li>Exporta√ß√£o de chats em arquivo de texto</li>
              <li>Interface responsiva e moderna</li>
              <li>Suporte a modo offline</li>
              <li>Instala√ß√£o como app nativo em dispositivos m√≥veis</li>
              <li>Respostas r√°pidas e contextuais</li>
              <li>Compartilhamento f√°cil</li>
            </ul>
          </section>

          <section class="about-section">
            <h2>üåê Redes Sociais</h2>
            <p><strong>AmplaAI:</strong></p>
            <p>üì∏ Instagram: <a href="https://instagram.com/ampla.ai" target="_blank" rel="noopener noreferrer" style="color: var(--primary-light);">@ampla.ai</a></p>
            
            <p style="margin-top: 16px;"><strong>YumeRoll:</strong></p>
            <p>üì∏ Instagram: <a href="https://instagram.com/yumerolloficial" target="_blank" rel="noopener noreferrer" style="color: var(--primary-light);">@yumerolloficial</a></p>
            <p>üéµ TikTok: <a href="https://tiktok.com/@yumerollanime" target="_blank" rel="noopener noreferrer" style="color: var(--primary-light);">@yumerollanimes</a></p>
          </section>

          <section class="about-section">
            <h2>üìÑ Documenta√ß√£o</h2>
            <div style="display: flex; flex-direction: column; gap: 12px;">
              <a href="https://termos.orpheostudio.com.br" target="_blank" rel="noopener noreferrer" 
                 style="display: block; padding: 14px 18px; background: var(--background); border-radius: 12px; color: var(--text); text-decoration: none; transition: all 0.2s; border: 1px solid var(--border);">
                üìù Termos de Uso
              </a>
              <a href="https://politicas.orpheostudio.com.br" target="_blank" rel="noopener noreferrer" 
                 style="display: block; padding: 14px 18px; background: var(--background); border-radius: 12px; color: var(--text); text-decoration: none; transition: all 0.2s; border: 1px solid var(--border);">
                üîí Pol√≠ticas de Privacidade
              </a>
              <a href="http://www.cici.net.br" target="_blank" rel="noopener noreferrer" 
                 style="display: block; padding: 14px 18px; background: var(--background); border-radius: 12px; color: var(--text); text-decoration: none; transition: all 0.2s; border: 1px solid var(--border);">
                üìö Sena - Solu√ß√µes Inteligentes
              </a>
            </div>
          </section>
        </div>

        <div style="margin-top: 32px; display: flex; flex-direction: column; gap: 12px;">
          <button onclick="showScreen('chat')" class="btn btn-primary" style="width: 100%;">
            <i data-lucide="sparkles"></i>
            <span>Come√ßar a Conversar</span>
          </button>

          <button onclick="checkForUpdates()" class="btn btn-secondary" style="width: 100%;">
            <i data-lucide="refresh-cw"></i>
            <span>Verificar Atualiza√ß√µes</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // =============== CONFIGURA√á√ïES DA API ===============
    const API_CONFIG = {
      MISTRAL_API_KEY: 'NFuAj8PYUPcaf6tA1BjbyXuIeSjSA4sW',
      MISTRAL_API_URL: 'https://api.mistral.ai/v1/chat/completions',
      MODEL: 'mistral-tiny',
      MAX_TOKENS: 1000,
      TEMPERATURE: 0.7
    };

    // =============== VARI√ÅVEIS GLOBAIS ===============
    let deferredPrompt;
    let chatHistory = [];
    let isOnline = navigator.onLine;
    let isTyping = false;
    let serviceWorkerRegistered = false;

    // =============== INICIALIZA√á√ÉO ===============
    document.addEventListener('DOMContentLoaded', async () => {
      console.log('üöÄ Iniciando L√≠via v3.0...');

      lucide.createIcons();
      setupDynamicManifest();
      await setupServiceWorker();
      setupNetworkMonitoring();
      
      updateTime();
      setInterval(updateTime, 60000);
      
      setupBatteryMonitoring();
      setupEventListeners();
      initializeChat();
      setupPWA();

      setTimeout(() => {
        document.getElementById('loading-screen').style.opacity = '0';
        setTimeout(() => {
          document.getElementById('loading-screen').style.display = 'none';
          checkConnection();
        }, 500);
      }, 2000);
    });

    // =============== SERVICE WORKER ===============
    async function setupServiceWorker() {
      if ('serviceWorker' in navigator) {
        try {
          const registration = await navigator.serviceWorker.register('/sw.js');
          console.log('‚úÖ Service Worker registrado:', registration);
          serviceWorkerRegistered = true;

          registration.addEventListener('updatefound', () => {
            const newWorker = registration.installing;
            newWorker.addEventListener('statechange', () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                showUpdateNotification();
              }
            });
          });
        } catch (error) {
          console.error('‚ùå Erro ao registrar Service Worker:', error);
        }
      }
    }

    // =============== MANIFEST DIN√ÇMICO ===============
    function setupDynamicManifest() {
      const manifest = {
        name: 'L√≠via - AmplaAI',
        short_name: 'L√≠via',
        description: 'Sua assistente inteligente de explora√ß√£o e solu√ß√µes',
        start_url: '/',
        display: 'standalone',
        orientation: 'portrait',
        background_color: '#0a0118',
        theme_color: '#8b5cf6',
        icons: [
          {
            src: 'https://i.imgur.com/DtMv80V.png',
            sizes: '192x192',
            type: 'image/png'
          },
          {
            src: 'https://i.imgur.com/DtMv80V.png',
            sizes: '512x512',
            type: 'image/png'
          }
        ],
        shortcuts: [
          {
            name: 'Nova Conversa',
            short_name: 'Chat',
            description: 'Comece uma nova conversa com a L√≠via',
            url: '/#chat'
          }
        ],
        categories: ['productivity', 'utilities']
      };

      const manifestString = JSON.stringify(manifest);
      const manifestBlob = new Blob([manifestString], { type: 'application/json' });
      const manifestURL = URL.createObjectURL(manifestBlob);
      document.getElementById('app-manifest').href = manifestURL;
    }

    // =============== MONITORAMENTO DE REDE ===============
    function setupNetworkMonitoring() {
      window.addEventListener('online', () => {
        isOnline = true;
        document.getElementById('offline-indicator').classList.remove('active');
        updateConnectionStatus(true);
      });

      window.addEventListener('offline', () => {
        isOnline = false;
        document.getElementById('offline-indicator').classList.add('active');
        updateConnectionStatus(false);
      });

      updateConnectionStatus(isOnline);
    }

    // =============== CONFIGURA√á√ÉO DO CHAT ===============
    function initializeChat() {
      const welcomeMessage = document.querySelector('.message.assistant .message-time');
      if (welcomeMessage) {
        welcomeMessage.textContent = getCurrentTime();
      }

      const savedChat = localStorage.getItem('liviaChatHistory');
      if (savedChat) {
        try {
          chatHistory = JSON.parse(savedChat);
          if (chatHistory.length > 0) {
            const messagesContainer = document.getElementById('messages-container');
            messagesContainer.innerHTML = '';

            chatHistory.forEach(msg => {
              addMessageToChat(msg.text, msg.sender, false);
            });

            if (chatHistory.length > 0) {
              addQuickReplies();
            }
          }
        } catch (e) {
          console.error('Erro ao carregar hist√≥rico:', e);
        }
      }
    }

    // =============== NAVEGA√á√ÉO ===============
    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(screen => {
        screen.classList.remove('active');
      });
      document.getElementById(`${screenId}-screen`).classList.add('active');
      document.getElementById('menu-dropdown').classList.remove('active');
      window.scrollTo(0, 0);

      if (screenId === 'chat') {
        setTimeout(() => {
          document.getElementById('message-input').focus();
        }, 300);
      }
    }

    function toggleMenu() {
      const menu = document.getElementById('menu-dropdown');
      menu.classList.toggle('active');
    }

    // =============== ENVIO DE MENSAGENS ===============
    async function sendMessage() {
      const messageInput = document.getElementById('message-input');
      const message = messageInput.value.trim();

      if (!message) return;

      const sendBtn = document.getElementById('send-btn');
      sendBtn.disabled = true;

      addMessageToChat(message, 'user');

      messageInput.value = '';
      messageInput.style.height = 'auto';

      if (!isOnline) {
        addMessageToChat(
          "‚ö†Ô∏è Voc√™ est√° offline. Por favor, conecte-se √† internet para eu poder responder.",
          'assistant'
        );
        sendBtn.disabled = false;
        return;
      }

      showTypingIndicator();

      try {
        const response = await callMistralAPI(message);
        hideTypingIndicator();
        addMessageToChat(response, 'assistant');
      } catch (error) {
        hideTypingIndicator();
        console.error('Erro na API:', error);

        let errorMessage = "Desculpe, tive um problema ao processar sua mensagem. ";

        if (error.message.includes('API key')) {
          errorMessage += "Erro de configura√ß√£o da API.";
        } else if (error.message.includes('network')) {
          errorMessage += "Problema de conex√£o. Verifique sua internet.";
        } else if (error.message.includes('quota')) {
          errorMessage += "Limite de uso excedido. Tente novamente mais tarde.";
        } else {
          errorMessage += "Tente novamente em alguns instantes.";
        }

        addMessageToChat(errorMessage, 'assistant');
      } finally {
        sendBtn.disabled = false;
      }
    }

    // =============== API MISTRAL ===============
    async function callMistralAPI(userMessage) {
      if (API_CONFIG.MISTRAL_API_KEY === 'INSERT_YOUR_MISTRAL_API_KEY_HERE') {
        throw new Error('API key n√£o configurada');
      }

      const messagesForAPI = [
        {
          role: 'system',
          content: 'Voc√™ √© L√≠via, uma assistente virtual amig√°vel, inteligente e prestativa desenvolvida pela AmplaAI. Voc√™ ajuda com tecnologia, criatividade, inova√ß√£o e responde de forma natural, carism√°tica e envolvente. Use emojis ocasionalmente para deixar as conversas mais leves e agrad√°veis. Seja profissional mas descontra√≠da.'
        },
        ...chatHistory
          .slice(-10)
          .map(msg => ({
            role: msg.sender === 'user' ? 'user' : 'assistant',
            content: msg.text
          })),
        { role: 'user', content: userMessage }
      ];

      const requestBody = {
        model: API_CONFIG.MODEL,
        messages: messagesForAPI,
        max_tokens: API_CONFIG.MAX_TOKENS,
        temperature: API_CONFIG.TEMPERATURE,
        stream: false
      };

      const response = await fetch(API_CONFIG.MISTRAL_API_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${API_CONFIG.MISTRAL_API_KEY}`
        },
        body: JSON.stringify(requestBody)
      });

      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        throw new Error(`API Error ${response.status}: ${errorData.error?.message || response.statusText}`);
      }

      const data = await response.json();

      if (!data.choices || !data.choices[0] || !data.choices[0].message) {
        throw new Error('Resposta inv√°lida da API');
      }

      return data.choices[0].message.content;
    }

    // =============== FUN√á√ïES AUXILIARES DO CHAT ===============
    function addMessageToChat(text, sender, saveToHistory = true) {
      const messagesContainer = document.getElementById('messages-container');
      const messageElement = document.createElement('div');
      messageElement.className = `message ${sender}`;

      const messageContent = document.createElement('div');
      messageContent.className = 'message-content';

      const messageText = document.createElement('div');
      messageText.innerHTML = formatMessage(text);

      const messageTime = document.createElement('span');
      messageTime.className = 'message-time';
      messageTime.textContent = getCurrentTime();

      messageContent.appendChild(messageText);
      messageContent.appendChild(messageTime);
      messageElement.appendChild(messageContent);
      messagesContainer.appendChild(messageElement);

      messagesContainer.scrollTop = messagesContainer.scrollHeight;

      if (saveToHistory) {
        chatHistory.push({
          text: text,
          sender: sender,
          time: getCurrentTime()
        });

        if (chatHistory.length > 100) {
          chatHistory = chatHistory.slice(-100);
        }

        localStorage.setItem('liviaChatHistory', JSON.stringify(chatHistory));
      }

      if (sender === 'user') {
        document.getElementById('quick-replies').innerHTML = '';
      }
    }

    function addQuickReplies() {
      const quickReplies = [
        'Conte-me sobre a AmplaAI',
        'Quais s√£o seus recursos?',
        'Como posso usar o YumeRoll?',
        'Me ajude com criatividade',
        'Fale sobre tecnologia',
        'Conte uma curiosidade'
      ];

      const container = document.getElementById('quick-replies');
      if (container && container.children.length === 0) {
        quickReplies.slice(0, 4).forEach(text => {
          const button = document.createElement('button');
          button.className = 'quick-reply';
          button.textContent = text;
          button.onclick = () => quickReply(text);
          container.appendChild(button);
        });
      }
    }

    function quickReply(text) {
      document.getElementById('message-input').value = text;
      sendMessage();
    }

    function formatMessage(text) {
      const urlRegex = /(https?:\/\/[^\s]+)/g;
      return text.replace(urlRegex, '<a href="$1" target="_blank" rel="noopener noreferrer" style="color: var(--primary-light); text-decoration: underline;">$1</a>');
    }

    function getCurrentTime() {
      return new Date().toLocaleTimeString('pt-BR', { 
        hour: '2-digit', 
        minute: '2-digit' 
      });
    }

    function showTypingIndicator() {
      isTyping = true;
      document.getElementById('typing-indicator').classList.add('active');
      const messagesContainer = document.getElementById('messages-container');
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function hideTypingIndicator() {
      isTyping = false;
      document.getElementById('typing-indicator').classList.remove('active');
    }

    function autoResize(textarea) {
      textarea.style.height = 'auto';
      textarea.style.height = (textarea.scrollHeight) + 'px';
    }

    function handleKeyDown(event) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        sendMessage();
      }
    }

    // =============== STATUS E CONEX√ÉO ===============
    function updateTime() {
      document.getElementById('current-time').textContent = 
        new Date().toLocaleTimeString('pt-BR', { 
          hour: '2-digit', 
          minute: '2-digit' 
        });
    }

    async function setupBatteryMonitoring() {
      if ('getBattery' in navigator) {
        try {
          const battery = await navigator.getBattery();
          updateBatteryStatus(battery);

          battery.addEventListener('levelchange', () => {
            updateBatteryStatus(battery);
          });

          battery.addEventListener('chargingchange', () => {
            updateBatteryStatus(battery);
          });
        } catch (error) {
          console.log('Battery API n√£o suportada');
        }
      }
    }

    function updateBatteryStatus(battery) {
      const batteryElement = document.getElementById('battery-status');
      const level = Math.round(battery.level * 100);
      const charging = battery.charging;
      batteryElement.textContent = charging ? `‚ö° ${level}%` : `${level}%`;
    }

    function updateConnectionStatus(connected) {
      const status = document.getElementById('connection-status');
      const dot = document.getElementById('connection-dot');
      const text = document.getElementById('connection-text');

      if (connected) {
        status.classList.add('active');
        dot.classList.add('connected');
        text.textContent = 'Conectado';

        setTimeout(() => {
          status.classList.remove('active');
        }, 3000);
      } else {
        status.classList.add('active');
        dot.classList.remove('connected');
        text.textContent = 'Offline';
      }
    }

    async function checkConnection() {
      try {
        const response = await fetch('https://api.mistral.ai/v1/models', {
          method: 'HEAD',
          headers: {
            'Authorization': `Bearer ${API_CONFIG.MISTRAL_API_KEY}`
          }
        });

        if (response.ok) {
          updateConnectionStatus(true);
          return true;
        }
      } catch (error) {
        updateConnectionStatus(false);
        return false;
      }
    }

    // =============== PWA INSTALL ===============
    function setupPWA() {
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
      });
    }

    // =============== EVENT LISTENERS ===============
    function setupEventListeners() {
      // Fechar menu ao clicar fora
      document.addEventListener('click', (e) => {
        const menu = document.getElementById('menu-dropdown');
        const menuBtn = document.querySelector('.menu-btn');
        
        if (!menu.contains(e.target) && !menuBtn.contains(e.target)) {
          menu.classList.remove('active');
        }
      });
    }

    // =============== FUN√á√ïES UTILIT√ÅRIAS ===============
    function exportChat() {
      const chatText = chatHistory.map(msg => 
        `${msg.sender === 'user' ? 'Voc√™' : 'L√≠via'} (${msg.time}): ${msg.text}`
      ).join('\n\n');

      const blob = new Blob([`=== Conversa com L√≠via ===\nData: ${new Date().toLocaleDateString('pt-BR')}\n\n${chatText}`], { 
        type: 'text/plain;charset=utf-8' 
      });

      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `livia-chat-${new Date().toISOString().split('T')[0]}.txt`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);

      addMessageToChat('Chat exportado com sucesso! üìÅ‚ú®', 'assistant');
      document.getElementById('menu-dropdown').classList.remove('active');
    }

    function clearChat() {
      if (confirm('Tem certeza que deseja limpar todo o hist√≥rico de conversa?')) {
        chatHistory = [];
        localStorage.removeItem('liviaChatHistory');

        const messagesContainer = document.getElementById('messages-container');
        messagesContainer.innerHTML = `
          <div class="message assistant">
            <div class="message-content">
              <p>Ol√°! Sou a L√≠via, sua assistente inteligente desenvolvida pela AmplaAI. ‚ú® Estou aqui para ajudar voc√™ com tecnologia, criatividade, inova√ß√£o e muito mais. Como posso te ajudar hoje? üíú</p>
              <span class="message-time">${getCurrentTime()}</span>
            </div>
          </div>
        `;

        addQuickReplies();
        document.getElementById('menu-dropdown').classList.remove('active');
      }
    }

    function shareApp() {
      if (navigator.share) {
        navigator.share({
          title: 'L√≠via - AmplaAI',
          text: 'Converse com a L√≠via, sua assistente inteligente de explora√ß√£o e solu√ß√µes!',
          url: window.location.href
        });
      } else {
        navigator.clipboard.writeText(window.location.href);
        addMessageToChat('Link copiado para a √°rea de transfer√™ncia! üìã‚ú®', 'assistant');
      }
      document.getElementById('menu-dropdown').classList.remove('active');
    }

    function checkForUpdates() {
      if (serviceWorkerRegistered) {
        navigator.serviceWorker.ready.then(registration => {
          registration.update();
          addMessageToChat('Verificando atualiza√ß√µes... üîÑ', 'assistant');
          setTimeout(() => {
            addMessageToChat('Seu app est√° atualizado! ‚úÖ‚ú®', 'assistant');
          }, 1500);
        });
      } else {
        addMessageToChat('Recarregue a p√°gina para verificar atualiza√ß√µes. üîÑ', 'assistant');
      }
    }

    function showUpdateNotification() {
      if (confirm('Uma nova vers√£o da L√≠via est√° dispon√≠vel! Deseja atualizar?')) {
        window.location.reload();
      }
    }

    // =============== OFFLINE SUPPORT ===============
    window.addEventListener('online', () => {
      if (chatHistory.length > 0) {
        const lastMessage = chatHistory[chatHistory.length - 1];
        if (lastMessage.sender === 'user') {
          setTimeout(() => sendMessage(), 1000);
        }
      }
    });
  </script>
</body>
</html>